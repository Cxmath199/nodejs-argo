const _0x54b584=_0x3bc9;(function(_0x2ef589,_0x3b5b92){const _0x548fa0={_0x553cbc:0x1ab,_0x7d02bf:0x1f4,_0x16c43a:0x1c6,_0x1729f9:0x15e},_0x28f1f5=_0x3bc9,_0x336dc2=_0x2ef589();while(!![]){try{const _0x28a820=parseInt(_0x28f1f5(_0x548fa0._0x553cbc))/0x1*(parseInt(_0x28f1f5(0x1c3))/0x2)+parseInt(_0x28f1f5(0x1a7))/0x3+-parseInt(_0x28f1f5(0x1e4))/0x4*(parseInt(_0x28f1f5(_0x548fa0._0x7d02bf))/0x5)+parseInt(_0x28f1f5(0x1eb))/0x6*(parseInt(_0x28f1f5(0x16e))/0x7)+-parseInt(_0x28f1f5(0x1b2))/0x8*(-parseInt(_0x28f1f5(_0x548fa0._0x16c43a))/0x9)+parseInt(_0x28f1f5(0x1f2))/0xa*(-parseInt(_0x28f1f5(0x1f1))/0xb)+parseInt(_0x28f1f5(0x1bd))/0xc*(parseInt(_0x28f1f5(_0x548fa0._0x1729f9))/0xd);if(_0x28a820===_0x3b5b92)break;else _0x336dc2['push'](_0x336dc2['shift']());}catch(_0x20154b){_0x336dc2['push'](_0x336dc2['shift']());}}}(_0x5dfc,0xa476c));const express=require(_0x54b584(0x158)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x54b584(0x194)),{promisify}=require(_0x54b584(0x1ff)),exec=promisify(require('child_process')[_0x54b584(0x1e7)]),{execSync}=require(_0x54b584(0x1e3)),UPLOAD_URL=process[_0x54b584(0x1bb)][_0x54b584(0x1be)]||'',PROJECT_URL=process[_0x54b584(0x1bb)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x54b584(0x145)]||![],FILE_PATH=process[_0x54b584(0x1bb)]['FILE_PATH']||_0x54b584(0x171),SUB_PATH=process[_0x54b584(0x1bb)][_0x54b584(0x13c)]||_0x54b584(0x144),PORT=process[_0x54b584(0x1bb)]['SERVER_PORT']||process[_0x54b584(0x1bb)][_0x54b584(0x1a0)]||0xbb8,UUID=process['env'][_0x54b584(0x143)]||_0x54b584(0x1cf),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x54b584(0x1bb)][_0x54b584(0x17f)]||'',NEZHA_KEY=process[_0x54b584(0x1bb)][_0x54b584(0x156)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x54b584(0x1bb)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x54b584(0x1bb)][_0x54b584(0x15d)]||0x1f41,CFIP=process[_0x54b584(0x1bb)]['CFIP']||'cdns.doon.eu.org',CFPORT=process['env']['CFPORT']||0x1bb,NAME=process['env'][_0x54b584(0x153)]||_0x54b584(0x195);!fs[_0x54b584(0x13f)](FILE_PATH)?(fs[_0x54b584(0x18a)](FILE_PATH),console[_0x54b584(0x184)](FILE_PATH+_0x54b584(0x15a))):console[_0x54b584(0x184)](FILE_PATH+_0x54b584(0x177));function generateRandomName(){const _0x227f5d=_0x54b584,_0x4049b6='abcdefghijklmnopqrstuvwxyz';let _0x183b68='';for(let _0x8015e2=0x0;_0x8015e2<0x6;_0x8015e2++){_0x183b68+=_0x4049b6[_0x227f5d(0x160)](Math['floor'](Math['random']()*_0x4049b6['length']));}return _0x183b68;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x54b584(0x141)](FILE_PATH,botName),subPath=path[_0x54b584(0x141)](FILE_PATH,_0x54b584(0x191)),listPath=path[_0x54b584(0x141)](FILE_PATH,_0x54b584(0x1f5)),bootLogPath=path[_0x54b584(0x141)](FILE_PATH,_0x54b584(0x163)),configPath=path[_0x54b584(0x141)](FILE_PATH,_0x54b584(0x18d));function deleteNodes(){const _0x34aec3={_0x6cdf66:0x16b,_0x14e2f1:0x1a6,_0x279d36:0x1aa,_0xa21b62:0x173},_0xe6ff37=_0x54b584;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1e2775;try{_0x1e2775=fs[_0xe6ff37(0x1e0)](subPath,_0xe6ff37(_0x34aec3._0x6cdf66));}catch{return null;}const _0x363a13=Buffer['from'](_0x1e2775,'base64')[_0xe6ff37(0x1a9)]('utf-8'),_0x20d0d3=_0x363a13[_0xe6ff37(0x19c)]('\x0a')[_0xe6ff37(0x1b3)](_0x752cee=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe6ff37(0x16a)](_0x752cee));if(_0x20d0d3[_0xe6ff37(_0x34aec3._0x14e2f1)]===0x0)return;return axios['post'](UPLOAD_URL+_0xe6ff37(0x19d),JSON[_0xe6ff37(_0x34aec3._0x279d36)]({'nodes':_0x20d0d3}),{'headers':{'Content-Type':_0xe6ff37(_0x34aec3._0xa21b62)}})['catch'](_0x545320=>{return null;}),null;}catch(_0x514d89){return null;}}function cleanupOldFiles(){const _0x78b7b3={_0x508519:0x1d4},_0x516e94=_0x54b584;try{const _0x6c062d=fs[_0x516e94(0x18f)](FILE_PATH);_0x6c062d['forEach'](_0x138c5b=>{const _0x36b9b7=_0x516e94,_0x43b1e0=path['join'](FILE_PATH,_0x138c5b);try{const _0xd90cf3=fs['statSync'](_0x43b1e0);_0xd90cf3[_0x36b9b7(0x14a)]()&&fs[_0x36b9b7(_0x78b7b3._0x508519)](_0x43b1e0);}catch(_0x2fbe7d){}});}catch(_0x989c4){}}app[_0x54b584(0x1e9)]('/',function(_0x125e80,_0xc7c895){_0xc7c895['send']('Hello\x20world!');});async function generateConfig(){const _0x5f108c={_0x11c9c7:0x1fe,_0x1fc5ff:0x19a,_0x31b70c:0x188,_0x3c1881:0x1f8,_0x485ec0:0x1e5,_0x3c44af:0x181,_0x41287e:0x19a,_0x3ddd57:0x192,_0x1c493f:0x185,_0x3a4b65:0x18b,_0x29c95e:0x1bf,_0x5a7ef1:0x1f8,_0x1fca6b:0x188,_0x3f3e39:0x18b,_0x2fa2c5:0x175,_0x318176:0x1cd,_0x41cd97:0x141},_0x2547da=_0x54b584,_0x3f91f9={'log':{'access':'/dev/null','error':_0x2547da(_0x5f108c._0x11c9c7),'loglevel':_0x2547da(_0x5f108c._0x1fc5ff)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2547da(0x1e5),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x2547da(0x19a),'fallbacks':[{'dest':0xbb9},{'path':_0x2547da(0x192),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2547da(_0x5f108c._0x31b70c),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2547da(_0x5f108c._0x3c1881),'protocol':_0x2547da(_0x5f108c._0x485ec0),'settings':{'clients':[{'id':UUID}],'decryption':_0x2547da(_0x5f108c._0x1fc5ff)},'streamSettings':{'network':_0x2547da(_0x5f108c._0x3c44af),'security':_0x2547da(_0x5f108c._0x41287e)}},{'port':0xbba,'listen':_0x2547da(_0x5f108c._0x3c1881),'protocol':_0x2547da(0x1e5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2547da(0x19a)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2547da(_0x5f108c._0x3ddd57)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2547da(_0x5f108c._0x3c1881),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2547da(_0x5f108c._0x1c493f)}},'sniffing':{'enabled':!![],'destOverride':[_0x2547da(0x14c),_0x2547da(_0x5f108c._0x3a4b65),_0x2547da(_0x5f108c._0x29c95e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2547da(_0x5f108c._0x5a7ef1),'protocol':_0x2547da(0x183),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2547da(0x19a),'wsSettings':{'path':_0x2547da(_0x5f108c._0x1fca6b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2547da(_0x5f108c._0x3f3e39),_0x2547da(0x1bf)],'metadataOnly':![]}}],'dns':{'servers':[_0x2547da(0x1db)]},'outbounds':[{'protocol':_0x2547da(_0x5f108c._0x2fa2c5),'tag':_0x2547da(_0x5f108c._0x318176)},{'protocol':_0x2547da(0x16d),'tag':_0x2547da(0x1a8)}]};fs[_0x2547da(0x1dc)](path[_0x2547da(_0x5f108c._0x41cd97)](FILE_PATH,_0x2547da(0x18d)),JSON[_0x2547da(0x1aa)](_0x3f91f9,null,0x2));}function getSystemArchitecture(){const _0x4afa39={_0x2acf98:0x180},_0x4c1dbf=_0x54b584,_0x1f7d09=os[_0x4c1dbf(0x159)]();return _0x1f7d09===_0x4c1dbf(0x182)||_0x1f7d09===_0x4c1dbf(_0x4afa39._0x2acf98)||_0x1f7d09==='aarch64'?_0x4c1dbf(0x182):_0x4c1dbf(0x17e);}function downloadFile(_0x58a093,_0x33fcda,_0x1824d4){const _0x3ee0a4={_0x2d86cc:0x1e9,_0x55d3c0:0x196},_0xc65191={_0x1736e8:0x1fb},_0x4a3fe2={_0x2cc303:0x150,_0x55b3b7:0x13b,_0x57ec6d:0x1fb},_0x3ba597={_0x2e7de4:0x1cb,_0x279297:0x178,_0x475ac4:0x187,_0x4afdbe:0x1fb},_0x496a1d={_0x573622:0x184,_0x3f8a3c:0x178,_0x571dc6:0x1e1},_0x3acda6=_0x54b584,_0x459c69=_0x58a093;!fs['existsSync'](FILE_PATH)&&fs[_0x3acda6(0x18a)](FILE_PATH,{'recursive':!![]});const _0x90e210=fs[_0x3acda6(0x154)](_0x459c69);axios({'method':_0x3acda6(_0x3ee0a4._0x2d86cc),'url':_0x33fcda,'responseType':_0x3acda6(0x199)})[_0x3acda6(0x1b5)](_0x34d4ba=>{const _0x30cd1b=_0x3acda6;_0x34d4ba[_0x30cd1b(_0x4a3fe2._0x2cc303)][_0x30cd1b(0x1d6)](_0x90e210),_0x90e210['on'](_0x30cd1b(_0x4a3fe2._0x55b3b7),()=>{const _0x32bac5=_0x30cd1b;_0x90e210[_0x32bac5(0x1ef)](),console[_0x32bac5(_0x496a1d._0x573622)]('Download\x20'+path[_0x32bac5(_0x496a1d._0x3f8a3c)](_0x459c69)+_0x32bac5(_0x496a1d._0x571dc6)),_0x1824d4(null,_0x459c69);}),_0x90e210['on'](_0x30cd1b(_0x4a3fe2._0x57ec6d),_0x10fccc=>{const _0x34357a=_0x30cd1b;fs[_0x34357a(0x1d5)](_0x459c69,()=>{});const _0x340c91=_0x34357a(_0x3ba597._0x2e7de4)+path[_0x34357a(_0x3ba597._0x279297)](_0x459c69)+_0x34357a(_0x3ba597._0x475ac4)+_0x10fccc[_0x34357a(0x1ea)];console[_0x34357a(_0x3ba597._0x4afdbe)](_0x340c91),_0x1824d4(_0x340c91);});})[_0x3acda6(_0x3ee0a4._0x55d3c0)](_0x42d786=>{const _0x4382bc=_0x3acda6,_0x152680='Download\x20'+path[_0x4382bc(0x178)](_0x459c69)+_0x4382bc(0x187)+_0x42d786[_0x4382bc(0x1ea)];console[_0x4382bc(_0xc65191._0x1736e8)](_0x152680),_0x1824d4(_0x152680);});}async function downloadFilesAndRun(){const _0x433161={_0x411937:0x1a6,_0x5707dc:0x1c9,_0x32165e:0x19f,_0x39e61c:0x1ca,_0x25e02e:0x193,_0x4fd75e:0x1b0,_0x59fae1:0x155,_0x4c22fa:0x1f6,_0x301415:0x141,_0x182277:0x151,_0x320e96:0x152,_0xb9583c:0x184,_0x30879c:0x15f,_0x2b9079:0x1fb,_0x3a087c:0x1d1,_0x10a10c:0x1d7,_0x42d8e4:0x1f7,_0x3ee176:0x1c1,_0x134e74:0x1da,_0x30f111:0x1de,_0x1df2e7:0x1a2,_0x22ad92:0x1b6,_0x46eb1b:0x148,_0x25d522:0x170,_0x14ae05:0x198,_0xda3882:0x1fb},_0x344ec1={_0x1c294c:0x18e},_0x3a42dc={_0x744b71:0x13f},_0x424b18=_0x54b584,_0x3a57aa=getSystemArchitecture(),_0xd6c4c1=getFilesForArchitecture(_0x3a57aa);if(_0xd6c4c1[_0x424b18(_0x433161._0x411937)]===0x0){console['log'](_0x424b18(0x19b));return;}const _0xa9473b=_0xd6c4c1['map'](_0xd484a1=>{const _0x439b12={_0x481b4c:0x1b9};return new Promise((_0x551c43,_0x33342c)=>{const _0x557c84=_0x3bc9;downloadFile(_0xd484a1[_0x557c84(0x201)],_0xd484a1[_0x557c84(_0x439b12._0x481b4c)],(_0x1caa86,_0x189409)=>{_0x1caa86?_0x33342c(_0x1caa86):_0x551c43(_0x189409);});});});try{await Promise[_0x424b18(_0x433161._0x5707dc)](_0xa9473b);}catch(_0x3e6546){console[_0x424b18(0x1fb)](_0x424b18(_0x433161._0x32165e),_0x3e6546);return;}function _0x1597a3(_0x2a6fea){const _0x1afdac=_0x424b18,_0x4e6331=0x1fd;_0x2a6fea[_0x1afdac(_0x344ec1._0x1c294c)](_0x1f5cc1=>{const _0x198c1e={_0x4c267a:0x1a9},_0x4eb4cc=_0x1afdac;fs[_0x4eb4cc(_0x3a42dc._0x744b71)](_0x1f5cc1)&&fs[_0x4eb4cc(0x162)](_0x1f5cc1,_0x4e6331,_0x4ac7a7=>{const _0x435f3b=_0x4eb4cc;_0x4ac7a7?console['error'](_0x435f3b(0x1ec)+_0x1f5cc1+':\x20'+_0x4ac7a7):console[_0x435f3b(0x184)](_0x435f3b(0x176)+_0x1f5cc1+':\x20'+_0x4e6331[_0x435f3b(_0x198c1e._0x4c267a)](0x8));});});}const _0x270615=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1597a3(_0x270615);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4de735=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x542bc7=new Set([_0x424b18(0x17b),'8443','2096',_0x424b18(_0x433161._0x39e61c),_0x424b18(0x1d7),_0x424b18(0x15c)]),_0x5a51d6=_0x542bc7[_0x424b18(_0x433161._0x25e02e)](_0x4de735)?'true':_0x424b18(_0x433161._0x4fd75e),_0x6361d5=_0x424b18(0x1d8)+NEZHA_KEY+_0x424b18(_0x433161._0x59fae1)+NEZHA_SERVER+_0x424b18(0x161)+_0x5a51d6+_0x424b18(_0x433161._0x4c22fa)+UUID;fs[_0x424b18(0x1dc)](path[_0x424b18(_0x433161._0x301415)](FILE_PATH,'config.yaml'),_0x6361d5);const _0x1f8176=_0x424b18(_0x433161._0x182277)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x424b18(_0x433161._0x320e96);try{await exec(_0x1f8176),console[_0x424b18(_0x433161._0xb9583c)](phpName+_0x424b18(_0x433161._0x30879c)),await new Promise(_0x7845d5=>setTimeout(_0x7845d5,0x3e8));}catch(_0x4a8817){console[_0x424b18(_0x433161._0x2b9079)]('php\x20running\x20error:\x20'+_0x4a8817);}}else{let _0x22c575='';const _0x5bceb5=['443',_0x424b18(_0x433161._0x3a087c),_0x424b18(0x139),_0x424b18(_0x433161._0x39e61c),_0x424b18(_0x433161._0x10a10c),'2053'];_0x5bceb5[_0x424b18(_0x433161._0x42d8e4)](NEZHA_PORT)&&(_0x22c575='--tls');const _0x194d2b=_0x424b18(_0x433161._0x182277)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x22c575+_0x424b18(_0x433161._0x3ee176);try{await exec(_0x194d2b),console['log'](npmName+_0x424b18(0x15f)),await new Promise(_0x2679c3=>setTimeout(_0x2679c3,0x3e8));}catch(_0x943322){console[_0x424b18(0x1fb)](_0x424b18(_0x433161._0x134e74)+_0x943322);}}}else console[_0x424b18(0x184)](_0x424b18(_0x433161._0x30f111));const _0x1696a6=_0x424b18(0x151)+webPath+_0x424b18(0x13d)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1696a6),console['log'](webName+'\x20is\x20running'),await new Promise(_0x42d446=>setTimeout(_0x42d446,0x3e8));}catch(_0x1e1074){console[_0x424b18(0x1fb)](_0x424b18(0x1f3)+_0x1e1074);}if(fs['existsSync'](botPath)){let _0x5b25;if(ARGO_AUTH[_0x424b18(0x1b6)](/^[A-Z0-9a-z=]{120,250}$/))_0x5b25=_0x424b18(_0x433161._0x1df2e7)+ARGO_AUTH;else ARGO_AUTH[_0x424b18(_0x433161._0x22ad92)](/TunnelSecret/)?_0x5b25=_0x424b18(_0x433161._0x46eb1b)+FILE_PATH+_0x424b18(0x1a4):_0x5b25=_0x424b18(0x13a)+FILE_PATH+_0x424b18(_0x433161._0x25d522)+ARGO_PORT;try{await exec(_0x424b18(0x151)+botPath+'\x20'+_0x5b25+_0x424b18(_0x433161._0x14ae05)),console[_0x424b18(_0x433161._0xb9583c)](botName+'\x20is\x20running'),await new Promise(_0x5fec32=>setTimeout(_0x5fec32,0x7d0));}catch(_0x4075c1){console[_0x424b18(_0x433161._0xda3882)]('Error\x20executing\x20command:\x20'+_0x4075c1);}}await new Promise(_0x4989b0=>setTimeout(_0x4989b0,0x1388));}function _0x5dfc(){const _0x5d7399=['\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','set','false','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','50184eDOpPS','filter','http://ip-api.com/json/','then','match','unshift','substring','fileUrl','Subscription\x20uploaded\x20successfully','env','countryCode','552mOMJhi','UPLOAD_URL','quic','firefox','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','796724RFfvFG','del\x20/f\x20/q\x20','status','639zENBPg','text/plain;\x20charset=utf-8','win32','all','2087','Download\x20','\x0a\x20\x20tunnel:\x20','direct','org','e5997f70-be9d-4d73-8f83-cfb5f8ed790d','platform','8443','country_code','from','unlinkSync','unlink','pipe','2083','\x0aclient_secret:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','npm\x20running\x20error:\x20','https+local://8.8.8.8/dns-query','writeFileSync','\x0avless://','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/add-nodes','readFileSync','\x20successfully','clear','child_process','4NrZocq','vless','https://amd64.ssss.nyc.mn/v1','exec','&fp=firefox&type=ws&host=','get','message','18raTXOz','Empowerment\x20failed\x20for\x20','\x0a\x0avmess://','Skipping\x20adding\x20automatic\x20access\x20task','close','success','11MoCpLc','12181610bdYzGc','web\x20running\x20error:\x20','5742015Frnzzg','list.txt','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','includes','127.0.0.1','automatic\x20access\x20task\x20added\x20successfully','https://amd64.ssss.nyc.mn/bot','error','send','Nodes\x20uploaded\x20successfully','/dev/null','util','.exe\x20>\x20nul\x202>&1','fileName','2096','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','finish','SUB_PATH','\x20-c\x20','Content-Type','existsSync','push','join','Error\x20executing\x20command:\x20','UUID','sub','AUTO_ACCESS','Error\x20reading\x20boot.log:','base64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20in\x20startserver:','isFile','Add\x20automatic\x20access\x20task\x20faild:\x20','http','https://arm64.ssss.nyc.mn/agent','post','pkill\x20-f\x20\x22[','data','nohup\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NAME','createWriteStream','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_KEY','\x20>\x20nul\x202>&1','express','arch','\x20is\x20created','\x20>/dev/null\x202>&1','2053','ARGO_PORT','38389VfJUAY','\x20is\x20running','charAt','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','chmod','boot.log','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://amd64.ssss.nyc.mn/agent','/api/add-subscriptions','tunnel.json','listen','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','test','utf-8','ARGO_DOMAIN:','blackhole','1146537MMwnTZ','taskkill\x20/f\x20/im\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','./tmp','rm\x20-rf\x20','application/json','response','freedom','Empowerment\x20success\x20for\x20','\x20already\x20exists','basename','https://arm64.ssss.nyc.mn/web','Unknown','443','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/vmess-argo?ed=2560','amd','NEZHA_PORT','arm64','tcp','arm','trojan','log','/vmess-argo','https://amd64.ssss.nyc.mn/web','\x20failed:\x20','/trojan-argo','https://arm64.ssss.nyc.mn/bot','mkdirSync','tls','\x22\x20>\x20/dev/null\x202>&1','config.json','forEach','readdirSync','Unhandled\x20error\x20in\x20startserver:','sub.txt','/vless-argo','has','path','north','catch','?security=tls&sni=','\x20>/dev/null\x202>&1\x20&','stream','none','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','split','/api/delete-nodes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Error\x20downloading\x20files:','PORT','App\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://oooo.serv00.net/add-url','/tunnel.yml\x20run','/sub.txt\x20saved\x20successfully','length','3512670gsOBzz','block','toString','stringify','2zoivhZ','\x0a\x20\x20\x20\x20','tunnel.yml'];_0x5dfc=function(){return _0x5d7399;};return _0x5dfc();}function getFilesForArchitecture(_0x581881){const _0xc6fc6a={_0x567e8f:0x182,_0x36a65d:0x189,_0xb9e84b:0x14d,_0x439a24:0x165,_0x588721:0x1e6,_0x2d4b6f:0x1b7},_0xe7b088=_0x54b584;let _0x16938c;_0x581881===_0xe7b088(_0xc6fc6a._0x567e8f)?_0x16938c=[{'fileName':webPath,'fileUrl':_0xe7b088(0x179)},{'fileName':botPath,'fileUrl':_0xe7b088(_0xc6fc6a._0x36a65d)}]:_0x16938c=[{'fileName':webPath,'fileUrl':_0xe7b088(0x186)},{'fileName':botPath,'fileUrl':_0xe7b088(0x1fa)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2db9e7=_0x581881===_0xe7b088(0x182)?_0xe7b088(_0xc6fc6a._0xb9e84b):_0xe7b088(_0xc6fc6a._0x439a24);_0x16938c[_0xe7b088(0x1b7)]({'fileName':npmPath,'fileUrl':_0x2db9e7});}else{const _0xc688a8=_0x581881===_0xe7b088(0x182)?'https://arm64.ssss.nyc.mn/v1':_0xe7b088(_0xc6fc6a._0x588721);_0x16938c[_0xe7b088(_0xc6fc6a._0x2d4b6f)]({'fileName':phpPath,'fileUrl':_0xc688a8});}}return _0x16938c;}function argoType(){const _0xfc452d={_0x227500:0x184,_0xfca49d:0x1f7,_0x55e4c4:0x1ae,_0x49e866:0x1ad,_0x541332:0x169},_0x162202=_0x54b584;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x162202(_0xfc452d._0x227500)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x162202(_0xfc452d._0xfca49d)]('TunnelSecret')){fs['writeFileSync'](path['join'](FILE_PATH,_0x162202(0x167)),ARGO_AUTH);const _0x50ad6f=_0x162202(0x1cc)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x162202(0x141)](FILE_PATH,_0x162202(0x167))+_0x162202(0x1b1)+ARGO_DOMAIN+_0x162202(_0xfc452d._0x55e4c4)+ARGO_PORT+_0x162202(0x19e);fs[_0x162202(0x1dc)](path['join'](FILE_PATH,_0x162202(_0xfc452d._0x49e866)),_0x50ad6f);}else console[_0x162202(_0xfc452d._0x227500)](_0x162202(_0xfc452d._0x541332));}async function extractDomains(){const _0x3eac60={_0x436b45:0x16c,_0x344870:0x18e,_0x545008:0x184,_0x392c96:0x151,_0xc51b3f:0x198},_0x7944ed={_0x2dfdd2:0x150,_0x36fe00:0x1ce,_0x4d0f8a:0x150,_0x2ce47f:0x150,_0xf74fbb:0x1e9,_0x98dbf:0x1b4,_0x14a047:0x1c5,_0x499950:0x1f0,_0x494594:0x17a},_0x592f8d={_0x36ac0e:0x1d0,_0x2407d9:0x16f,_0x26f824:0x14f},_0x3cc2a4=_0x54b584;let _0x238364;if(ARGO_AUTH&&ARGO_DOMAIN)_0x238364=ARGO_DOMAIN,console['log'](_0x3cc2a4(_0x3eac60._0x436b45),_0x238364),await _0x41c52d(_0x238364);else try{const _0x3fd24e=fs[_0x3cc2a4(0x1e0)](path[_0x3cc2a4(0x141)](FILE_PATH,_0x3cc2a4(0x163)),_0x3cc2a4(0x16b)),_0x24fa14=_0x3fd24e['split']('\x0a'),_0x3eb4e6=[];_0x24fa14[_0x3cc2a4(_0x3eac60._0x344870)](_0xc6a266=>{const _0x5a6ad6=_0x3cc2a4,_0x355f67=_0xc6a266[_0x5a6ad6(0x1b6)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x355f67){const _0x3cae0b=_0x355f67[0x1];_0x3eb4e6['push'](_0x3cae0b);}});if(_0x3eb4e6['length']>0x0)_0x238364=_0x3eb4e6[0x0],console[_0x3cc2a4(_0x3eac60._0x545008)]('ArgoDomain:',_0x238364),await _0x41c52d(_0x238364);else{console[_0x3cc2a4(0x184)](_0x3cc2a4(0x17c)),fs['unlinkSync'](path['join'](FILE_PATH,_0x3cc2a4(0x163)));async function _0x472f5f(){const _0x33e176=_0x3cc2a4;try{process[_0x33e176(_0x592f8d._0x36ac0e)]===_0x33e176(0x1c8)?await exec(_0x33e176(_0x592f8d._0x2407d9)+botName+_0x33e176(0x200)):await exec(_0x33e176(_0x592f8d._0x26f824)+botName['charAt'](0x0)+']'+botName[_0x33e176(0x1b8)](0x1)+_0x33e176(0x18c));}catch(_0x380cf8){}}_0x472f5f(),await new Promise(_0x418ace=>setTimeout(_0x418ace,0xbb8));const _0x4116de=_0x3cc2a4(0x13a)+FILE_PATH+_0x3cc2a4(0x170)+ARGO_PORT;try{await exec(_0x3cc2a4(_0x3eac60._0x392c96)+botPath+'\x20'+_0x4116de+_0x3cc2a4(_0x3eac60._0xc51b3f)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x28e792=>setTimeout(_0x28e792,0xbb8)),await extractDomains();}catch(_0x2c3c79){console['error'](_0x3cc2a4(0x142)+_0x2c3c79);}}}catch(_0x4edba8){console['error'](_0x3cc2a4(0x146),_0x4edba8);}async function _0x356800(){const _0x1d7127=_0x3cc2a4;try{const _0x2d0d33=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2d0d33[_0x1d7127(_0x7944ed._0x2dfdd2)]&&_0x2d0d33[_0x1d7127(_0x7944ed._0x2dfdd2)][_0x1d7127(0x1d2)]&&_0x2d0d33[_0x1d7127(0x150)][_0x1d7127(_0x7944ed._0x36fe00)])return _0x2d0d33[_0x1d7127(_0x7944ed._0x4d0f8a)][_0x1d7127(0x1d2)]+'_'+_0x2d0d33[_0x1d7127(_0x7944ed._0x2ce47f)]['org'];}catch(_0x5b5c5e){try{const _0x2904c7=await axios[_0x1d7127(_0x7944ed._0xf74fbb)](_0x1d7127(_0x7944ed._0x98dbf),{'timeout':0xbb8});if(_0x2904c7[_0x1d7127(0x150)]&&_0x2904c7[_0x1d7127(0x150)][_0x1d7127(_0x7944ed._0x14a047)]===_0x1d7127(_0x7944ed._0x499950)&&_0x2904c7[_0x1d7127(0x150)][_0x1d7127(0x1bc)]&&_0x2904c7[_0x1d7127(0x150)][_0x1d7127(_0x7944ed._0x36fe00)])return _0x2904c7[_0x1d7127(0x150)]['countryCode']+'_'+_0x2904c7[_0x1d7127(0x150)]['org'];}catch(_0x428259){}}return _0x1d7127(_0x7944ed._0x494594);}async function _0x41c52d(_0x5eedec){const _0x23da7f={_0x2c4e16:0x19a,_0x52338a:0x18b,_0x6575bf:0x1c0,_0x4b069d:0x1ed,_0xcba4f5:0x1a9,_0x363a52:0x197,_0x562477:0x1ac,_0x11f35a:0x184,_0x4c1157:0x1d3,_0x4bf294:0x1a5,_0xb6c49:0x1e9},_0x591fff=await _0x356800(),_0x49c332=NAME?NAME+'-'+_0x591fff:_0x591fff;return new Promise(_0x782373=>{const _0x1878f2={_0x43191a:0x1d3,_0x3348fa:0x1a9,_0x3c661e:0x1af,_0x148b12:0x1c7};setTimeout(()=>{const _0x4e7ea9=_0x3bc9,_0x1fc47d={'v':'2','ps':''+_0x49c332,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4e7ea9(_0x23da7f._0x2c4e16),'host':_0x5eedec,'path':_0x4e7ea9(0x17d),'tls':_0x4e7ea9(_0x23da7f._0x52338a),'sni':_0x5eedec,'alpn':'','fp':_0x4e7ea9(_0x23da7f._0x6575bf)},_0x13afba=_0x4e7ea9(0x1dd)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x5eedec+'&fp=firefox&type=ws&host='+_0x5eedec+_0x4e7ea9(0x1c2)+_0x49c332+_0x4e7ea9(_0x23da7f._0x4b069d)+Buffer[_0x4e7ea9(0x1d3)](JSON[_0x4e7ea9(0x1aa)](_0x1fc47d))[_0x4e7ea9(_0x23da7f._0xcba4f5)](_0x4e7ea9(0x147))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4e7ea9(_0x23da7f._0x363a52)+_0x5eedec+_0x4e7ea9(0x1e8)+_0x5eedec+_0x4e7ea9(0x1d9)+_0x49c332+_0x4e7ea9(_0x23da7f._0x562477);console[_0x4e7ea9(_0x23da7f._0x11f35a)](Buffer[_0x4e7ea9(_0x23da7f._0x4c1157)](_0x13afba)['toString'](_0x4e7ea9(0x147))),fs[_0x4e7ea9(0x1dc)](subPath,Buffer['from'](_0x13afba)['toString'](_0x4e7ea9(0x147))),console['log'](FILE_PATH+_0x4e7ea9(_0x23da7f._0x4bf294)),uploadNodes(),app[_0x4e7ea9(_0x23da7f._0xb6c49)]('/'+SUB_PATH,(_0x44d296,_0xeeff55)=>{const _0x3dddda=_0x4e7ea9,_0x23bda5=Buffer[_0x3dddda(_0x1878f2._0x43191a)](_0x13afba)[_0x3dddda(_0x1878f2._0x3348fa)](_0x3dddda(0x147));_0xeeff55[_0x3dddda(_0x1878f2._0x3c661e)](_0x3dddda(0x13e),_0x3dddda(_0x1878f2._0x148b12)),_0xeeff55[_0x3dddda(0x1fc)](_0x23bda5);}),_0x782373(_0x13afba);},0x7d0);});}}async function uploadNodes(){const _0x2723cd={_0x262d6b:0x166,_0x380847:0x173,_0x14f88a:0x184,_0x16cb0e:0x1ba,_0x451aa4:0x174,_0x3c949c:0x13f,_0xef548c:0x1b3,_0xe62853:0x1aa,_0x622916:0x14e,_0x4f3dc2:0x1df},_0x59fac7=_0x54b584;if(UPLOAD_URL&&PROJECT_URL){const _0x355d37=PROJECT_URL+'/'+SUB_PATH,_0x423411={'subscription':[_0x355d37]};try{const _0x27fe4d=await axios['post'](UPLOAD_URL+_0x59fac7(_0x2723cd._0x262d6b),_0x423411,{'headers':{'Content-Type':_0x59fac7(_0x2723cd._0x380847)}});return _0x27fe4d&&_0x27fe4d[_0x59fac7(0x1c5)]===0xc8?(console[_0x59fac7(_0x2723cd._0x14f88a)](_0x59fac7(_0x2723cd._0x16cb0e)),_0x27fe4d):null;}catch(_0x5a9ff8){if(_0x5a9ff8[_0x59fac7(_0x2723cd._0x451aa4)]){if(_0x5a9ff8[_0x59fac7(_0x2723cd._0x451aa4)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x59fac7(_0x2723cd._0x3c949c)](listPath))return;const _0x333311=fs[_0x59fac7(0x1e0)](listPath,_0x59fac7(0x16b)),_0x4ff7f2=_0x333311[_0x59fac7(0x19c)]('\x0a')[_0x59fac7(_0x2723cd._0xef548c)](_0x36cce4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59fac7(0x16a)](_0x36cce4));if(_0x4ff7f2[_0x59fac7(0x1a6)]===0x0)return;const _0x2bb4f4=JSON[_0x59fac7(_0x2723cd._0xe62853)]({'nodes':_0x4ff7f2});try{const _0xbfedb3=await axios[_0x59fac7(_0x2723cd._0x622916)](UPLOAD_URL+_0x59fac7(_0x2723cd._0x4f3dc2),_0x2bb4f4,{'headers':{'Content-Type':_0x59fac7(0x173)}});return _0xbfedb3&&_0xbfedb3[_0x59fac7(0x1c5)]===0xc8?(console[_0x59fac7(_0x2723cd._0x14f88a)](_0x59fac7(0x1fd)),_0xbfedb3):null;}catch(_0x459a19){return null;}}else return;}}function _0x3bc9(_0x510fbb,_0x39bc0a){const _0x5dfc1c=_0x5dfc();return _0x3bc9=function(_0x3bc964,_0x33adad){_0x3bc964=_0x3bc964-0x139;let _0xef8b48=_0x5dfc1c[_0x3bc964];return _0xef8b48;},_0x3bc9(_0x510fbb,_0x39bc0a);}function cleanFiles(){const _0x1a2bb0={_0x4bf31e:0x140,_0xabffc5:0x1d0,_0x3077e1:0x1c8};setTimeout(()=>{const _0x3a9200={_0xdf0d86:0x184,_0x385806:0x164},_0x1e0157=_0x3bc9,_0x1b6415=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1b6415[_0x1e0157(0x140)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1b6415[_0x1e0157(_0x1a2bb0._0x4bf31e)](phpPath);process[_0x1e0157(_0x1a2bb0._0xabffc5)]===_0x1e0157(_0x1a2bb0._0x3077e1)?exec(_0x1e0157(0x1c4)+_0x1b6415['join']('\x20')+_0x1e0157(0x157),_0x2300f6=>{const _0x512a41=_0x1e0157;console[_0x512a41(0x1e2)](),console[_0x512a41(_0x3a9200._0xdf0d86)]('App\x20is\x20running'),console[_0x512a41(_0x3a9200._0xdf0d86)](_0x512a41(_0x3a9200._0x385806));}):exec(_0x1e0157(0x172)+_0x1b6415[_0x1e0157(0x141)]('\x20')+_0x1e0157(0x15b),_0x21a40f=>{const _0x500756=_0x1e0157;console['clear'](),console[_0x500756(0x184)](_0x500756(0x1a1)),console[_0x500756(0x184)](_0x500756(0x164));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3f4cf1={_0x5753f4:0x1ee,_0x212f4b:0x1a3,_0x122d55:0x1fb,_0x57faee:0x14b},_0x47405d=_0x54b584;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x47405d(_0x3f4cf1._0x5753f4));return;}try{const _0x41af54=await axios[_0x47405d(0x14e)](_0x47405d(_0x3f4cf1._0x212f4b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x47405d(0x173)}});return console['log'](_0x47405d(0x1f9)),_0x41af54;}catch(_0xd7ce06){return console[_0x47405d(_0x3f4cf1._0x122d55)](_0x47405d(_0x3f4cf1._0x57faee)+_0xd7ce06[_0x47405d(0x1ea)]),null;}}async function startserver(){const _0x5b283d={_0x13347f:0x1fb,_0x525a01:0x149},_0x58df48=_0x54b584;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2e9f53){console[_0x58df48(_0x5b283d._0x13347f)](_0x58df48(_0x5b283d._0x525a01),_0x2e9f53);}}startserver()[_0x54b584(0x196)](_0x2a09c5=>{const _0x3b9331={_0x1cd2a6:0x190},_0x3d52a4=_0x54b584;console['error'](_0x3d52a4(_0x3b9331._0x1cd2a6),_0x2a09c5);}),app[_0x54b584(0x168)](PORT,()=>console[_0x54b584(0x184)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
